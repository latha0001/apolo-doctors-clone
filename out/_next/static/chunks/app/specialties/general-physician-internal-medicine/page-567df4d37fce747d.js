(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{900:function(e,s,a){Promise.resolve().then(a.bind(a,6485)),Promise.resolve().then(a.t.bind(a,4724,23))},6485:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return q}});var t=a(7437),l=a(2265);let r="http://localhost:5000/api";async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let t=new URLSearchParams({page:e.toString(),limit:s.toString(),...Object.fromEntries(Object.entries(a).filter(e=>{let[s,a]=e;return void 0!==a&&""!==a}))}),l=await fetch("".concat(r,"/doctors?").concat(t));if(!l.ok)throw Error("Error fetching doctors: ".concat(l.statusText));return await l.json()}catch(e){return console.error("Error in getDoctors:",e),{doctors:[],pagination:{current:1,limit:10,total:0,pages:0}}}}async function c(){try{let e=await fetch("".concat(r,"/doctors/specialties"));if(!e.ok)throw Error("Error fetching specialties: ".concat(e.statusText));return await e.json()}catch(e){return console.error("Error in getSpecialties:",e),[]}}async function n(){try{let e=await fetch("".concat(r,"/doctors/hospitals"));if(!e.ok)throw Error("Error fetching hospitals: ".concat(e.statusText));return await e.json()}catch(e){return console.error("Error in getHospitals:",e),[]}}async function o(){try{let e=await fetch("".concat(r,"/doctors/locations"));if(!e.ok)throw Error("Error fetching locations: ".concat(e.statusText));return await e.json()}catch(e){return console.error("Error in getLocations:",e),[]}}var d=a(6691),m=a.n(d),x=a(5340),h=a(6142),u=a(6141),f=a(8339),p=a(6760),g=a(7256),j=a(9213),N=a(7042),v=a(4769);function y(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,v.m6)((0,N.W)(s))}let b=(0,j.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),w=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:i=!1,...c}=e,n=i?g.g7:"button";return(0,t.jsx)(n,{className:y(b({variant:l,size:r,className:a})),ref:s,...c})});w.displayName="Button";var k=e=>{let{doctor:s}=e;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full overflow-hidden relative",children:(0,t.jsx)(m(),{src:s.profileImage,alt:s.name,width:112,height:112,className:"object-cover"})}),(0,t.jsxs)("div",{className:"flex items-center justify-center mt-2",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 text-yellow-500 mr-1"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:s.rating}),(0,t.jsxs)("span",{className:"text-gray-500 text-xs ml-1",children:["(",s.reviewCount,")"]})]})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:s.name}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:s.qualification}),(0,t.jsxs)("p",{className:"text-gray-600 text-sm",children:[s.specialty," ",s.subspecialty?"• ".concat(s.subspecialty):""]}),(0,t.jsxs)("p",{className:"text-gray-600 text-sm",children:[s.experience," years experience"]})]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600 text-sm",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 mr-1 text-gray-400"}),(0,t.jsxs)("span",{children:[s.hospital,", ",s.location]})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 mr-1 text-gray-400"}),(0,t.jsx)("span",{children:"Next available: Today, 2:00 PM"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,t.jsxs)("div",{className:y("flex items-center px-3 py-1 rounded-full text-sm",s.isAvailableForVideoConsult?"bg-blue-50 text-blue-700":"bg-gray-100 text-gray-500"),children:[(0,t.jsx)(f.Z,{className:"w-3 h-3 mr-1"}),(0,t.jsx)("span",{children:"Video Consult"})]}),(0,t.jsxs)("div",{className:y("flex items-center px-3 py-1 rounded-full text-sm",s.isAvailableForHospitalVisit?"bg-green-50 text-green-700":"bg-gray-100 text-gray-500"),children:[(0,t.jsx)(p.Z,{className:"w-3 h-3 mr-1"}),(0,t.jsx)("span",{children:"Hospital Visit"})]})]}),(0,t.jsx)("div",{className:"flex gap-2 mt-4 flex-wrap",children:s.languages.map((e,s)=>(0,t.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e},s))})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-between md:items-end space-y-4 mt-4 md:mt-0",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Consultation fee"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-800",children:["₹",s.fees]})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full md:w-auto gap-2",children:[s.isAvailableForVideoConsult&&(0,t.jsx)(w,{className:"bg-[#3959c3] hover:bg-[#304db3] text-white",children:"Book Video Consult"}),s.isAvailableForHospitalVisit&&(0,t.jsx)(w,{variant:"outline",className:"border-[#3959c3] text-[#3959c3] hover:bg-blue-50",children:"Book Hospital Visit"})]})]})]})})})},C=a(6062),E=a(2442);let F=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(C.fC,{ref:s,className:y("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,t.jsx)(C.z$,{className:y("flex items-center justify-center text-current"),children:(0,t.jsx)(E.Z,{className:"h-4 w-4"})})})});F.displayName=C.fC.displayName;var S=a(6743);let V=(0,j.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),T=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(S.f,{ref:s,className:y(V(),a),...l})});T.displayName=S.f.displayName;var z=a(3122);let P=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(z.fC,{ref:s,className:y("relative flex w-full touch-none select-none items-center",a),...l,children:[(0,t.jsx)(z.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(z.e6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(z.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});P.displayName=z.fC.displayName;var R=a(5630),H=a(6369);let M=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(R.fC,{className:y("grid gap-2",a),...l,ref:s})});M.displayName=R.fC.displayName;let Z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(R.ck,{ref:s,className:y("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...l,children:(0,t.jsx)(R.z$,{className:"flex items-center justify-center",children:(0,t.jsx)(H.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});Z.displayName=R.ck.displayName;var A=a(6823);let _=l.forwardRef((e,s)=>{let{className:a,orientation:l="horizontal",decorative:r=!0,...i}=e;return(0,t.jsx)(A.f,{ref:s,decorative:r,orientation:l,className:y("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",a),...i})});_.displayName=A.f.displayName;var B=e=>{let{onChange:s}=e,[a,r]=(0,l.useState)([]),[i,d]=(0,l.useState)([]),[m,x]=(0,l.useState)([]),[h,u]=(0,l.useState)(!0),[f,p]=(0,l.useState)({}),[g,j]=(0,l.useState)([0]),[N,v]=(0,l.useState)([500]);(0,l.useEffect)(()=>{let e=async()=>{u(!0);try{let[e,s,a]=await Promise.all([c(),n(),o()]);r(e),d(s),x(a)}catch(e){console.error("Error fetching filter options:",e)}finally{u(!1)}};e()},[]);let y=(e,s)=>{p(a=>{if(a[e]===s){let{[e]:s,...t}=a;return t}return{...a,[e]:s}})};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"}),(0,t.jsx)(w,{variant:"ghost",size:"sm",onClick:()=>{p({}),j([0]),v([500]),s({})},className:"text-[#3959c3] hover:text-[#304db3] text-sm",children:"Reset All"})]}),(0,t.jsx)(_,{className:"my-4"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Consultation Type"}),(0,t.jsxs)(M,{value:f.consultType,onValueChange:e=>y("consultType",e),className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Z,{value:"video",id:"consultType-video",className:"text-[#3959c3]"}),(0,t.jsx)(T,{htmlFor:"consultType-video",className:"text-sm cursor-pointer",children:"Video Consultation"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Z,{value:"hospital",id:"consultType-hospital",className:"text-[#3959c3]"}),(0,t.jsx)(T,{htmlFor:"consultType-hospital",className:"text-sm cursor-pointer",children:"Hospital Visit"})]})]})]}),(0,t.jsx)(_,{className:"my-4"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Gender"}),(0,t.jsxs)(M,{value:f.gender,onValueChange:e=>y("gender",e),className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Z,{value:"Male",id:"gender-male",className:"text-[#3959c3]"}),(0,t.jsx)(T,{htmlFor:"gender-male",className:"text-sm cursor-pointer",children:"Male Doctor"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Z,{value:"Female",id:"gender-female",className:"text-[#3959c3]"}),(0,t.jsx)(T,{htmlFor:"gender-female",className:"text-sm cursor-pointer",children:"Female Doctor"})]})]})]}),(0,t.jsx)(_,{className:"my-4"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Experience (years)"}),(0,t.jsxs)("div",{className:"px-2",children:[(0,t.jsx)(P,{defaultValue:[0],max:30,step:1,value:g,onValueChange:j,className:"my-5"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[g[0],"+ years"]}),g[0]>0&&(0,t.jsx)(w,{variant:"ghost",size:"sm",onClick:()=>j([0]),className:"text-[#3959c3] hover:text-[#304db3] text-xs h-6 px-2",children:"Clear"})]})]})]}),(0,t.jsx)(_,{className:"my-4"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Fee Range"}),(0,t.jsxs)("div",{className:"px-2",children:[(0,t.jsx)(P,{defaultValue:[500],min:500,max:5e3,step:100,value:N,onValueChange:v,className:"my-5"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Up to ₹",N[0]]}),N[0]>500&&(0,t.jsx)(w,{variant:"ghost",size:"sm",onClick:()=>v([500]),className:"text-[#3959c3] hover:text-[#304db3] text-xs h-6 px-2",children:"Clear"})]})]})]}),(0,t.jsx)(_,{className:"my-4"}),m.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Location"}),(0,t.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:m.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(F,{id:"location-".concat(e),className:"text-[#3959c3] rounded-sm",checked:f.location===e,onCheckedChange:s=>{s?y("location",e):y("location",void 0)}}),(0,t.jsx)(T,{htmlFor:"location-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,t.jsx)(_,{className:"my-4"}),i.length>0&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Hospital"}),(0,t.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:i.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(F,{id:"hospital-".concat(e),className:"text-[#3959c3] rounded-sm",checked:f.hospital===e,onCheckedChange:s=>{s?y("hospital",e):y("hospital",void 0)}}),(0,t.jsx)(T,{htmlFor:"hospital-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,t.jsx)(_,{className:"my-4"}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Languages"}),(0,t.jsx)("div",{className:"space-y-2",children:["English","Hindi","Bengali","Tamil","Telugu","Kannada","Marathi"].map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(F,{id:"language-".concat(e),className:"text-[#3959c3] rounded-sm",checked:f.language===e,onCheckedChange:s=>{s?y("language",e):y("language",void 0)}}),(0,t.jsx)(T,{htmlFor:"language-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(w,{onClick:()=>{s({...f,minExperience:g[0]>0?g[0]:void 0,minFee:void 0,maxFee:N[0]>500?N[0]:void 0})},className:"w-full bg-[#3959c3] hover:bg-[#304db3]",children:"Apply Filters"})})]})};function D(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:y("animate-pulse rounded-md bg-muted",s),...a})}var L=a(1291),O=a(7158),U=e=>{let{currentPage:s,totalPages:a,onPageChange:l}=e;return(0,t.jsx)("nav",{className:"flex items-center justify-center",children:(0,t.jsxs)("ul",{className:"flex items-center space-x-1",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(w,{variant:"outline",size:"icon",onClick:()=>l(s-1),disabled:1===s,className:"h-8 w-8",children:[(0,t.jsx)(L.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Previous page"})]})}),(()=>{let e=[];if(a<=5)for(let s=1;s<=a;s++)e.push(s);else{e.push(1);let t=Math.max(2,s-1),l=Math.min(a-1,s+1);s<=2&&(l=Math.min(a-1,4)),s>=a-2&&(t=Math.max(2,a-3)),t>2&&e.push("...");for(let s=t;s<=l;s++)e.push(s);l<a-1&&e.push("..."),e.push(a)}return e})().map((e,a)=>(0,t.jsx)("li",{children:"..."===e?(0,t.jsx)("span",{className:"px-2 text-gray-500",children:"..."}):(0,t.jsx)(w,{variant:s===e?"default":"outline",size:"sm",onClick:()=>"number"==typeof e&&l(e),className:"h-8 w-8",children:e})},a)),(0,t.jsx)("li",{children:(0,t.jsxs)(w,{variant:"outline",size:"icon",onClick:()=>l(s+1),disabled:s===a,className:"h-8 w-8",children:[(0,t.jsx)(O.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Next page"})]})})]})})},q=()=>{let[e,s]=(0,l.useState)([]),[a,r]=(0,l.useState)(!0),[c,n]=(0,l.useState)(1),[o,d]=(0,l.useState)(1),[m,x]=(0,l.useState)(0),[h,u]=(0,l.useState)({}),[f,p]=(0,l.useState)(!1),g=async()=>{r(!0);try{let e=await i(c,5,h);s(e.doctors),d(e.pagination.pages),x(e.pagination.total)}catch(e){console.error("Error fetching doctors:",e)}finally{r(!1)}};(0,l.useEffect)(()=>{g()},[c,h]);let j=e=>{u(e),n(1)};return(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,t.jsx)("div",{className:"md:hidden mb-4",children:(0,t.jsx)(w,{onClick:()=>p(!f),variant:"outline",className:"w-full",children:f?"Hide Filters":"Show Filters"})}),(0,t.jsx)("div",{className:"md:hidden ".concat(f?"block":"hidden"),children:(0,t.jsx)(B,{onChange:j})}),(0,t.jsx)("div",{className:"hidden md:block md:w-1/4 lg:w-1/5",children:(0,t.jsx)(B,{onChange:j})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:a?"Finding doctors...":"".concat(m," Doctors found")}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"General Physician / Internal Medicine specialists"})]}),(0,t.jsx)("div",{className:"space-y-6",children:a?[,,,,,].fill(0).map((e,s)=>(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)(D,{className:"w-24 h-24 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(D,{className:"h-6 w-3/4"}),(0,t.jsx)(D,{className:"h-4 w-1/2"}),(0,t.jsx)(D,{className:"h-4 w-2/3"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsx)(D,{className:"h-8 w-28"}),(0,t.jsx)(D,{className:"h-8 w-28"})]})]})]})},s)):e.length>0?e.map(e=>(0,t.jsx)(k,{doctor:e},e._id)):(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No doctors found"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Try adjusting your filters to find more doctors."})]})}),!a&&o>1&&(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(U,{currentPage:c,totalPages:o,onPageChange:e=>{n(e),window.scrollTo({top:0,behavior:"smooth"})}})})]})]})})}}},function(e){e.O(0,[724,917,971,864,744],function(){return e(e.s=900)}),_N_E=e.O()}]);